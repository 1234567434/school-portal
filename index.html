\<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>1234x4TEAM ‚Äî Luxury School System</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
<style>
:root{--neon:#4fd1ff;--accent:#7cff7c;--bg:#050510;--glass:rgba(255,255,255,.1);--gold:#ffd700;--red:#ff4f4f}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Orbitron',sans-serif;background:radial-gradient(circle at top,var(--bg),#000);color:white;min-height:100vh;overflow-x:hidden}
canvas{position:fixed;inset:0;z-index:-1}

/* --- –ê–î–ê–ü–¢–ò–í–ù–Ü–°–¢–¨ --- */
header{padding:30px 10px;text-align:center}
header h1{font-size:clamp(2rem, 8vw, 4rem);background:linear-gradient(90deg,var(--neon),var(--accent));-webkit-background-clip:text;color:transparent}

nav{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin:20px auto;max-width:900px}
nav button{background:rgba(0,0,0,.6);border:1px solid var(--glass);color:white;padding:12px 20px;border-radius:12px;cursor:pointer;transition:0.3s;font-size:clamp(0.7rem, 2vw, 1rem)}
nav button.active,nav button:hover{background:var(--neon);color:black;box-shadow:0 0 15px var(--neon)}

section{display:none;padding:20px;max-width:1200px;margin:auto;animation:fadeIn 0.5s}
section.active{display:block}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}
.card{background:rgba(11,11,42,0.85);border-radius:24px;border:1px solid var(--glass);padding:25px;backdrop-filter:blur(10px);box-shadow:0 10px 30px rgba(0,0,0,0.5)}

/* –û–ü–¢–ò–ú–Ü–ó–ê–¶–Ü–Ø –ü–Ü–î –ú–û–ë–Ü–õ–ö–ò */
@media (max-width: 600px) {
    nav button{flex:1 1 40%; text-align:center}
    .card{padding:15px}
    .grade-display{right:10px !important; top:45px !important; font-size:1.5rem !important}
}

/* –ï–ª–µ–º–µ–Ω—Ç–∏ */
input,textarea,button,select{width:100%;background:rgba(255,255,255,0.05);border:1px solid var(--glass);color:white;padding:12px;border-radius:10px;margin-bottom:10px;font-family:inherit}
button{cursor:pointer;font-weight:bold;text-transform:uppercase}
.item{background:rgba(255,255,255,0.03);padding:15px;border-radius:15px;margin-bottom:12px;border-left:4px solid var(--neon);position:relative}
.author-tag{font-size:0.75rem;color:var(--accent);display:block;margin-top:8px;font-style:italic}
.grade-display{position:absolute;right:60px;top:15px;font-size:2.2rem;color:var(--gold);font-weight:900;text-shadow:0 0 15px var(--gold)}
.del-btn{width:35px;height:35px;background:var(--red);position:absolute;top:10px;right:10px;border:none;border-radius:8px;color:white;cursor:pointer}
.admin-only{display:none;border:1px dashed var(--gold);padding:20px;margin-bottom:25px;border-radius:15px;background:rgba(255,215,0,0.02)}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
</style>
</head>
<body>
<canvas id="bg"></canvas>
<header>
    <h1>1234x4TEAM</h1>
    <button id="loginBtn" style="width:auto;font-size:10px;padding:5px 15px;border-color:var(--gold);color:var(--gold)">–í–•–Ü–î BOSS</button>
</header>

<nav>
    <button class="active" data-tab="home">–ì–û–õ–û–í–ù–ê</button>
    <button data-tab="diary">–©–û–î–ï–ù–ù–ò–ö</button>
    <button data-tab="journal">–ñ–£–†–ù–ê–õ</button>
    <button data-tab="projects">–ü–†–û–Ñ–ö–¢–ò</button>
    <button data-tab="pres">–ü–†–ï–ó–ï–ù–¢–ê–¶–Ü–á</button>
</nav>

<section id="home" class="active">
    <div class="grid">
        <div class="card"><h2>üëã –í—ñ—Ç–∞—î–º–æ</h2><p id="devText">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p></div>
        <div class="card"><h2>üìå –û—Å—Ç–∞–Ω–Ω—ñ –û—Ü—ñ–Ω–∫–∏</h2><div id="homeGrades"></div></div>
    </div>
</section>

<section id="diary">
    <div class="card">
        <h2>üìÖ –î–æ–º–∞—à–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è</h2>
        <div class="admin-only" id="diaryAdmin">
            <select id="hwLesson"></select>
            <input type="text" id="hwTask" placeholder="–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏?">
            <input type="date" id="hwDeadline">
            <button id="btnHw">–û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏ –î–ó</button>
        </div>
        <div id="diaryList"></div>
    </div>
</section>

<section id="journal">
    <div class="card">
        <h2>üìì –ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∏–π –ñ—É—Ä–Ω–∞–ª</h2>
        <div class="admin-only" id="journalAdmin">
            <input type="text" id="grName" placeholder="–ö–æ–º—É –æ—Ü—ñ–Ω–∫–∞?">
            <select id="grLesson"></select>
            <input type="number" id="grVal" placeholder="–ë–∞–ª (1-12)">
            <input type="text" id="grTopic" placeholder="–¢–µ–º–∞ —Ä–æ–±–æ—Ç–∏">
            <button id="btnGr">–î–æ–¥–∞—Ç–∏ –≤ –∂—É—Ä–Ω–∞–ª</button>
        </div>
        <div id="journalList"></div>
    </div>
</section>

<section id="projects">
    <div class="card">
        <h2>üìÅ –ö–æ–º–∞–Ω–¥–Ω—ñ –ü—Ä–æ—î–∫—Ç–∏</h2>
        <div class="admin-only" id="projAdmin">
            <input type="text" id="pAuth" placeholder="–¢–≤–æ—î —ñ–º'—è">
            <input type="text" id="pTitle" placeholder="–ù–∞–∑–≤–∞ –ø—Ä–æ—î–∫—Ç—É">
            <textarea id="pDesc" placeholder="–ü—Ä–æ —â–æ –ø—Ä–æ—î–∫—Ç?"></textarea>
            <button id="btnProj">–î–æ–¥–∞—Ç–∏ –ø—Ä–æ—î–∫—Ç</button>
        </div>
        <div id="projList"></div>
    </div>
</section>

<section id="pres">
    <div class="card">
        <h2>üìä –°—Ö–æ–≤–∏—â–µ –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ–π</h2>
        <div class="admin-only" id="presAdmin">
            <input type="text" id="prAuth" placeholder="–•—Ç–æ –∞–≤—Ç–æ—Ä?">
            <input type="text" id="prTitle" placeholder="–¢–µ–º–∞ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—ó">
            <input type="text" id="prUrl" placeholder="–ü–æ—Å–∏–ª–∞–Ω–Ω—è (Google Slides/Canva)">
            <button id="btnPres">–û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—é</button>
        </div>
        <div id="presList"></div>
    </div>
</section>

<div id="modal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.95);z-index:100;align-items:center;justify-content:center">
    <div class="card" style="width:320px;text-align:center;border-color:var(--gold)">
        <h2 style="color:var(--gold)">BOSS ACCESS</h2>
        <input type="password" id="pass" placeholder="–ö–æ–¥ –¥–æ—Å—Ç—É–ø—É">
        <button id="checkPass" style="background:var(--gold);color:black">–£–í–Ü–ô–¢–ò</button>
        <p onclick="document.getElementById('modal').style.display='none'" style="cursor:pointer;margin-top:10px;opacity:0.5">–°–∫–∞—Å—É–≤–∞—Ç–∏</p>
    </div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getDatabase, ref, push, onValue, remove, update } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyD511i6W1j2fF1fdlLV_34P4NIHFdlAuMM",
  authDomain: "wauu-23496.firebaseapp.com",
  projectId: "wauu-23496",
  databaseURL: "https://wauu-23496-default-rtdb.firebaseio.com",
  appId: "1:4282523224:web:5d550788c665f90007f42d"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
const isOwner = sessionStorage.getItem('isOwner') === 'true';
const lessons = ['–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞','–Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞','–£–∫—Ä. –ú–æ–≤–∞','–§—ñ–∑–∏–∫–∞','–ü—Ä–∏—Ä–æ–¥–∞','–ê–Ω–≥–ª—ñ–π—Å—å–∫–∞','–Ü—Å—Ç–æ—Ä—ñ—è'];

// –ü–†–ò–°–¢–†–Ü–ô –¢–ê –ë–ï–ó–ü–ï–ö–ê
const isMobile = /Android|iPhone|iPad/i.test(navigator.userAgent);
document.getElementById('devText').innerText = isMobile ? "üì± –í–∏ –∑–∞–π—à–ª–∏ –∑ –º–æ–±—ñ–ª—å–Ω–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–∞–ø—Ç–æ–≤–∞–Ω–æ." : "üíª –í–∏ –∑–∞–π—à–ª–∏ –∑ –∫–æ–º–ø'—é—Ç–µ—Ä–∞. –ü–æ–≤–Ω–∏–π —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ.";

if(isOwner) {
    document.querySelectorAll('.admin-only').forEach(b => b.style.display = 'block');
    document.getElementById('loginBtn').innerText = "–†–ï–ñ–ò–ú BOSS ‚úÖ";
}

// –ó–∞–ø–æ–≤–Ω–µ–Ω–Ω—è —Å–ø–∏—Å–∫—ñ–≤ –ø—Ä–µ–¥–º–µ—Ç—ñ–≤
const sl = [document.getElementById('hwLesson'), document.getElementById('grLesson')];
sl.forEach(s => lessons.forEach(l => s.innerHTML += `<option value="${l}">${l}</option>`));

// –°–ò–ù–•–†–û–ù–Ü–ó–ê–¶–Ü–Ø –î–ê–ù–ò–•
onValue(ref(db, 'diary'), s => {
    const d = s.val(), l = document.getElementById('diaryList'); l.innerHTML = '';
    for(let id in d) l.innerHTML += `<div class="item">${isOwner?`<button class="del-btn" onclick="window.del('diary','${id}')">X</button>`:''}<b>${d[id].lesson}</b>: ${d[id].task}<br><small>–ó–¥–∞—Ç–∏ –¥–æ: ${d[id].deadline}</small></div>`;
});

onValue(ref(db, 'grades'), s => {
    const d = s.val(), l = document.getElementById('journalList'), h = document.getElementById('homeGrades');
    l.innerHTML = h.innerHTML = '';
    for(let id in d) {
        const g = d[id];
        const html = `<div class="item">${isOwner?`<button class="del-btn" onclick="window.del('grades','${id}')">X</button>`:''}<b>${g.name}</b> ‚Äî ${g.lesson}<br><small>${g.topic}</small><div class="grade-display">${g.val}</div></div>`;
        l.innerHTML += html; h.innerHTML += html;
    }
});

onValue(ref(db, 'projects'), s => {
    const d = s.val(), l = document.getElementById('projList'); l.innerHTML = '';
    for(let id in d) l.innerHTML += `<div class="item">${isOwner?`<button class="del-btn" onclick="window.del('projects','${id}')">X</button>`:''}<b>${d[id].title}</b><p>${d[id].desc}</p><span class="author-tag">üë§ –ê–≤—Ç–æ—Ä: ${d[id].auth}</span></div>`;
});

onValue(ref(db, 'pres'), s => {
    const d = s.val(), l = document.getElementById('presList'); l.innerHTML = '';
    for(let id in d) l.innerHTML += `<div class="item">${isOwner?`<button class="del-btn" onclick="window.del('pres','${id}')">X</button>`:''}<b>${d[id].title}</b><br><a href="${d[id].url}" target="_blank" style="color:var(--neon);text-decoration:none;border:1px solid;padding:4px 8px;border-radius:6px;display:inline-block;margin-top:5px">–í—ñ–¥–∫—Ä–∏—Ç–∏ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—é ‚Üó</a><span class="author-tag">üë§ –°—Ç–≤–æ—Ä–∏–≤: ${d[id].auth}</span></div>`;
});

// –ö–ï–†–£–í–ê–ù–ù–Ø (–¢–Ü–õ–¨–ö–ò –î–õ–Ø BOSS)
if(isOwner) {
    document.getElementById('btnHw').onclick = () => push(ref(db, 'diary'), { lesson: document.getElementById('hwLesson').value, task: document.getElementById('hwTask').value, deadline: document.getElementById('hwDeadline').value });
    document.getElementById('btnGr').onclick = () => push(ref(db, 'grades'), { name: document.getElementById('grName').value, lesson: document.getElementById('grLesson').value, val: document.getElementById('grVal').value, topic: document.getElementById('grTopic').value });
    document.getElementById('btnProj').onclick = () => push(ref(db, 'projects'), { auth: document.getElementById('pAuth').value, title: document.getElementById('pTitle').value, desc: document.getElementById('pDesc').value });
    document.getElementById('btnPres').onclick = () => push(ref(db, 'pres'), { auth: document.getElementById('prAuth').value, title: document.getElementById('prTitle').value, url: document.getElementById('prUrl').value });
    
    window.del = (p, id) => confirm('–í–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π –∑–∞–ø–∏—Å?') && remove(ref(db, `${p}/${id}`));
}

// –ü–ê–†–û–õ–¨ –¢–ê –ù–ê–í–Ü–ì–ê–¶–Ü–Ø
document.getElementById('loginBtn').onclick = () => document.getElementById('modal').style.display = 'flex';
document.getElementById('checkPass').onclick = () => {
    if(document.getElementById('pass').value === '902893') { sessionStorage.setItem('isOwner', 'true'); location.reload(); }
    else alert('–ü–∞—Ä–æ–ª—å –Ω–µ–≤—ñ—Ä–Ω–∏–π!');
};

document.querySelectorAll('nav button').forEach(b => {
    b.onclick = () => {
        document.querySelectorAll('section, nav button').forEach(e => e.classList.remove('active'));
        document.getElementById(b.dataset.tab).classList.add('active'); b.classList.add('active');
    }
});

// –§–û–ù–û–í–ê –ê–ù–Ü–ú–ê–¶–Ü–Ø
const c=document.getElementById('bg'),ctx=c.getContext('2d');let w,h,pts=[];
const res=()=>{w=c.width=innerWidth;h=c.height=innerHeight}; window.onresize=res; res();
for(let i=0;i<40;i++)pts.push({x:Math.random()*w,y:Math.random()*h,vx:Math.random()-0.5,vy:Math.random()-0.5});
function draw(){ctx.clearRect(0,0,w,h);ctx.fillStyle='#4fd1ff';pts.forEach(p=>{p.x+=p.vx;p.y+=p.vy;if(p.x<0||p.x>w)p.vx*=-1;if(p.y<0||p.y>h)p.vy*=-1;ctx.beginPath();ctx.arc(p.x,p.y,1.5,0,Math.PI*2);ctx.fill()});requestAnimationFrame(draw)}draw();
</script>
</body>
</html>